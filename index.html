<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>VR Teleport Obstacle Course - Desktop + VR</title>
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@6.1.1/dist/aframe-extras.min.js"></script>
</head>
<body>
  <a-scene background="color: #001028" vr-mode-ui="enabled: true" renderer="antialias: true">


    <a-entity id="rig" position="0 0 0">
      <a-entity id="camera" camera look-controls position="0 1.6 0"></a-entity>

      <a-entity teleport-controls="cameraRig: #rig; teleportOrigin: #camera; collisionEntities: .ground; button: trigger; type: blink"></a-entity>
    </a-entity>

    <a-plane class="ground" rotation="-90 0 0" width="20" height="20" color="#228B22"></a-plane>

  
    <a-box class="ground" position="3 0.5 -5" depth="2" height="1" width="2" color="#8B0000"></a-box>
    <a-box class="ground" position="-3 1 -8" depth="3" height="2" width="2" color="#FFA500"></a-box>
    <a-box class="ground" position="0 0.5 -12" depth="4" height="1" width="2" color="#00008B"></a-box>
    <a-box class="ground" position="5 0.5 -15" depth="2" height="1" width="2" color="#800080"></a-box>
    <a-box class="ground" position="-5 0.5 -18" depth="2" height="1" width="2" color="#FF4500"></a-box>
    <a-box class="ground" position="5 2 -6" depth="1" height="1" width="1" color="#8B0000"></a-box>
    <a-box class="ground" position="8 4 -7" depth="2" height="1" width="1" color="#FFA500"></a-box>
    <a-box class="ground" position="-7 7-14" depth="2" height="1" width="2" color="#00008B"></a-box>
    <a-box class="ground" position="3 9 -10" depth="3" height="3" width="3" color="#800080"></a-box>
    <a-box class="ground" position="-2 12 -2" depth="2" height="1" width="2" color="#FF4500"></a-box>
    <a-box class="ground" position="3 2 9" depth="1" height="1" width="1" color="#8B0000"></a-box>
    <a-box class="ground" position="10 4 7" depth="2" height="1" width="1" color="#FFA500"></a-box>
    <a-box class="ground" position="9 7 15" depth="2" height="1" width="2" color="#00008B"></a-box>
    <a-box class="ground" position="4 9 20" depth="3" height="3" width="3" color="#800080"></a-box>
    <a-box class="ground" position="5 12 13" depth="2" height="1" width="2" color="#FF4500"></a-box>

    <a-entity light="type: ambient; intensity: 0.5"></a-entity>
    <a-entity light="type: directional; intensity: 0.8" position="5 10 5"></a-entity>


    <a-entity cursor="rayOrigin: mouse"
              raycaster="objects: .ground"
              geometry="primitive: ring; radiusInner: 0.01; radiusOuter: 0.02"
              material="color: black; shader: flat"
              position="0 0 -1">
    </a-entity>

   
    <script>
      const rig = document.querySelector('#rig');
      const cameraHeight = 1.6; 

      document.querySelectorAll('.ground').forEach(el => {
        el.addEventListener('click', (e) => {
          const point = e.detail.intersection.point;

          
          rig.setAttribute('position', {
            x: point.x,
            y: point.y + cameraHeight,
            z: point.z
          });
        });
      });
    </script>

  </a-scene>
</body>
</html>

